<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VELLUM</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Sidebar –º–µ–Ω—é -->
<div id="side-menu">
    <div class="menu-header">
        <div class="menu-title">VELLUM</div>
    </div>
    <div class="menu-item" onclick="openProfile()">–ü—Ä–æ—Ñ–∏–ª—å</div>
    <div class="menu-item">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (soon)</div>
    <div class="menu-item">VELLUM+ (soon)</div>
    <div class="menu-item">–ü–æ–¥–∞—Ä–∫–∏ (soon)</div>
    <div class="menu-item" onclick="logout()">–í—ã–π—Ç–∏</div>
</div>
<div id="menu-overlay" onclick="toggleMenu()"></div>

<div id="main-container">

    <div id="top-bar">
        <button id="menu-btn" onclick="toggleMenu()">‚ò∞</button>
        <div class="top-title">VELLUM</div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth">
        <h1>VELLUM</h1>

        <div class="auth-row">
            <div class="card">
                <h2>Login</h2>
                <input id="login-username" placeholder="@username">
                <input id="login-password" type="password" placeholder="Password">
                <button onclick="login()">Login</button>
            </div>

            <div class="card">
                <h2>Register</h2>
                <input id="reg-username" placeholder="@username">
                <input id="reg-password" type="password" placeholder="Password">
                <button onclick="register()">Register</button>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app" class="hidden">
        <div id="left-panel">
            <div class="search-block">
                <input id="search-query" placeholder="–ü–æ–∏—Å–∫ –ø–æ @username –∏–ª–∏ ID">
                <button class="small-btn" onclick="searchUser()">–ü–æ–∏—Å–∫</button>
            </div>

            <div id="search-results"></div>

            <div class="section-title">–ß–∞—Ç—ã</div>
            <div id="chat-list"></div>
        </div>

        <div id="right-panel">
            <div id="chat-header">
                <div>
                    <div id="chat-partner-name" class="chat-title">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</div>
                    <div id="chat-partner-id" class="chat-subtitle"></div>
                </div>
                <button id="call-btn" onclick="startCall()" disabled>üìû</button>
            </div>

            <div id="messages"></div>

            <div id="input-area">
                <input id="msg-input" placeholder="Message...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profile-modal" class="modal hidden"></div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –∑–≤–æ–Ω–∫–∞ -->
    <div id="call-modal" class="modal hidden">
        <div id="call-status">Calling...</div>
        <div id="call-user-info"></div>
        <div class="call-buttons">
            <button id="call-accept" onclick="acceptCall()">–ü—Ä–∏–Ω—è—Ç—å</button>
            <button id="call-end" onclick="endCall()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
        </div>
    </div>

</div>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script src="script.js"></script>
</body>
</html>

